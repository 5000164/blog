+++
title = "DXライブラリで読み込んだテキストをエンターで表示"
date = 2014-04-01T02:03:09+00:00
permalink: /2014-03-dxlib_practice_2/
image: /wp-content/uploads/2014/04/20140331_practice2_eye.png
+++
<img src="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_eye-300x300.png" alt="20140331_practice2_eye" width="300" height="300" class="aligncenter size-medium wp-image-1183" srcset="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_eye-300x300.png 300w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_eye-150x150.png 150w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_eye.png 900w" sizes="(max-width: 300px) 100vw, 300px" />

# <a name="実行結果" href="#実行結果"></a>実行結果 {#実行結果}

<img src="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_1-1024x794.png" alt="20140331_practice2_1" width="1024" height="794" class="aligncenter size-large wp-image-1184" srcset="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_1-1024x794.png 1024w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_1-300x232.png 300w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_1.png 1044w" sizes="(max-width: 1024px) 100vw, 1024px" />

これが。

<img src="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_2-1024x794.png" alt="20140331_practice2_2" width="1024" height="794" class="aligncenter size-large wp-image-1185" srcset="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_2-1024x794.png 1024w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_2-300x232.png 300w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_2.png 1044w" sizes="(max-width: 1024px) 100vw, 1024px" />

こうなって。

<img src="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_3-1024x794.png" alt="20140331_practice2_3" width="1024" height="794" class="aligncenter size-large wp-image-1186" srcset="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_3-1024x794.png 1024w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_3-300x232.png 300w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_3.png 1044w" sizes="(max-width: 1024px) 100vw, 1024px" />

こうなってって。

<img src="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_4-1024x794.png" alt="20140331_practice2_4" width="1024" height="794" class="aligncenter size-large wp-image-1187" srcset="http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_4-1024x794.png 1024w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_4-300x232.png 300w, http://5000164.jp/wp-content/uploads/2014/04/20140331_practice2_4.png 1044w" sizes="(max-width: 1024px) 100vw, 1024px" />

最終的にはこうなります。
  
正直こんなに長くする必要はなかった。

ソースコードはこちら。
  
[5000164/dxlib-practice-2](https://github.com/5000164/dxlib-practice-2)

# <a name="ゲームなんだから入力できるようにしなくては" href="#ゲームなんだから入力できるようにしなくては"></a>ゲームなんだから入力できるようにしなくては
  
 {#ゲームなんだから入力できるようにしなくては}

[前回](http://5000164.jp/2014-03-dxlib_practice_1/ "DXライブラリできれいなフォントを表示する")はDXライブラリで文字を表示するだけでしたが、こんどは入力を受け付けるようにします。
  
とりあえずエンターキーを押したら単純に表示するだけ。

# <a name="表示するテキストをファイルから読み込むようにした" href="#表示するテキストをファイルから読み込むようにした"></a>表示するテキストをファイルから読み込むようにした
  
 {#表示するテキストをファイルから読み込むようにした}

ついでに、表示するテキストを外部から読み込んでいます。
  
最初はUTF-8でテキストを書いていたら、文字化けをしてうまく読み込めません。
  
DXライブラリはShift\_JISとCRLFで書かれているので、テキストもShift\_JISとCRLFで書いたらうまくいきました。
  
プロジェクト全体の設定も、DXライブラリに合わせてShift_JISとCRLFで統一するのがいいと思います。
  
個人的にはUTF-8のLFが安心するのですが、DXライブラリを使っている時点で動作する環境はかなり限られるので、特に問題はないかと思います。

# <a name="まとめ" href="#まとめ"></a>まとめ {#まとめ}

こんなに簡単な処理なのに、結構時間がかかりました。
  
やはり基礎的な知識がないと、どうすればいいのかわからないということが多いですね。