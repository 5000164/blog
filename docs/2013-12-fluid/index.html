<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="Hugo 0.26" />
    <title>コンテンツを横に2つ並べた時に片方だけコンテンツ幅がウィンドウ幅に追従するようにする | 5000164 is here</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/monokai.css">
    <link rel="canonical" href="http://blog.5000164.jp/2013-12-fluid/">
</head>
<body>
<header>
    <a href="http://blog.5000164.jp">5000164 is here</a>
</header>

<article>
    <div>2013-12-01</div>
    <h1>コンテンツを横に2つ並べた時に片方だけコンテンツ幅がウィンドウ幅に追従するようにする</h1>
    


<figure >
    
        <img src="/images/2013/12/20131201_fluid.png" />
    
    
</figure>


<h1 id="デモ">デモ</h1>

<p>文章では説明しづらいので、なんだかよくわからないタイトルになってしまいました。</p>

<p>まずは実際に見てもらった方が早いと思います。</p>

<div class="codepen">
  <p data-height="268" data-theme-id="2816" data-slug-hash="qxgIF" data-user="5000164" data-default-tab="result" class='codepen'>
    See the Pen <a href='http://codepen.io/5000164/pen/qxgIF'>qxgIF</a> by SUGAWARA Hiroshi (<a href='http://codepen.io/5000164'>@5000164</a>) on <a href='http://codepen.io'>CodePen</a>
  </p>
  
  <p>
    </div> 
    
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;p&gt;</span>
  ここではデモのために、ウィンドウの幅ではなくdivの幅を変更するようにしています。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> divの幅を変更してみると、左側のテーブルの幅は変わらずに右側の文章の幅だけが変わっているのが確認できます。
<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h1&gt;</span>
  実装方法
<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  cssはこのようになっています。（関係のないプロパティは省略しています。）
<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&quot;brush: css; title: ; notranslate&quot;</span> <span class="na">title=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
</pre></div>
</td></tr></table>
<p>div {
  position: relative;
}
table {
  position: absolute;
  top: 0;
  left: 0;
  width: 250px;
}
p {
  margin: 0 0 0 250px;<br />
}
</pre></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;p&gt;</span>
  非常に簡単です。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> まず、tableをposition: absolute;で固定することを考えます。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> そのために親要素にposition: relative;を指定します。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> これでtableの位置が固定されるので、あとは右側のコンテンツにmarginを指定してtableと重ならないようにします。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> これだけです。
<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h1&gt;</span>
  複雑に考える必要はなかった
<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  最初に右側のコンテンツだけウィンドウサイズに応じて幅を変更させようとした時は、もっと複雑に考えていました。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> 左側のコンテンツにmin-widthを指定して、左右のコンテンツにwidthでそれぞれ%を指定しようとしたのですが、これは%で指定すると幅が大きく変わった時にレイアウトが崩れるので断念。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> 次はJavaScriptでウィンドウサイズのイベントを取得して動的にwidthを変更するしかないかと思ったのですが、なるべくシンプルにいってJavaScriptは使いたくなかったので保留。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> 他にいい方法がないかと考えていた時にこの方法を思いつきました。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> 試しに実装してみたら期待通りの動きをしてくれたのでこの方法に決定。<span class="nt">&lt;br</span> <span class="nt">/&gt;</span> シンプルに書けるのはいいものです。
<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h1&gt;</span>
  まとめ
<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  この方法は応用が利きそうです。
<span class="nt">&lt;/p&gt;</span>
</pre></div>
</td></tr></table>
</article>
<footer>
    SUGAWARA Hiroshi
</footer>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-51024599-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


</body>
</html>

